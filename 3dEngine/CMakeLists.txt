cmake_minimum_required(VERSION 3.7)
project(urchin3dEngine)

set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR})
set(CMAKE_CXX_STANDARD 14)

add_definitions(-DGLEW_STATIC -DGL_GLEXT_PROTOTYPES)

set(SOURCE_FILES
        src/loader/font/LoaderTTF.cpp
        src/loader/font/LoaderTTF.h
        src/loader/image/LoaderTGA.cpp
        src/loader/image/LoaderTGA.h
        src/loader/material/LoaderMTR.cpp
        src/loader/material/LoaderMTR.h
        src/loader/model/LoaderUrchinAnim.cpp
        src/loader/model/LoaderUrchinAnim.h
        src/loader/model/LoaderUrchinMesh.cpp
        src/loader/model/LoaderUrchinMesh.h
        src/loader/Loader.cpp
        src/loader/Loader.h
        src/resources/font/Font.cpp
        src/resources/font/Font.h
        src/resources/image/Image.cpp
        src/resources/image/Image.h
        src/resources/material/Material.cpp
        src/resources/material/Material.h
        src/resources/model/boundingbox/SplitBoundingBox.cpp
        src/resources/model/boundingbox/SplitBoundingBox.h
        src/resources/model/ConstAnimation.cpp
        src/resources/model/ConstAnimation.h
        src/resources/model/ConstMesh.cpp
        src/resources/model/ConstMesh.h
        src/resources/model/ConstMeshes.cpp
        src/resources/model/ConstMeshes.h
        src/resources/model/MeshService.cpp
        src/resources/model/MeshService.h
        src/resources/MediaManager.cpp
        src/resources/MediaManager.h
        src/resources/Resource.cpp
        src/resources/Resource.h
        src/resources/ResourceManager.cpp
        src/resources/ResourceManager.h
        src/scene/GUI/widget/button/Button.cpp
        src/scene/GUI/widget/button/Button.h
        src/scene/GUI/widget/container/Container.cpp
        src/scene/GUI/widget/container/Container.h
        src/scene/GUI/widget/slider/Slider.cpp
        src/scene/GUI/widget/slider/Slider.h
        src/scene/GUI/widget/staticbitmap/StaticBitmap.cpp
        src/scene/GUI/widget/staticbitmap/StaticBitmap.h
        src/scene/GUI/widget/text/Text.cpp
        src/scene/GUI/widget/text/Text.h
        src/scene/GUI/widget/textbox/TextBox.cpp
        src/scene/GUI/widget/textbox/TextBox.h
        src/scene/GUI/widget/window/Window.cpp
        src/scene/GUI/widget/window/Window.h
        src/scene/GUI/widget/Position.cpp
        src/scene/GUI/widget/Position.h
        src/scene/GUI/widget/Size.cpp
        src/scene/GUI/widget/Size.h
        src/scene/GUI/widget/Widget.cpp
        src/scene/GUI/widget/Widget.h
        src/scene/GUI/EventListener.cpp
        src/scene/GUI/EventListener.h
        src/scene/GUI/GUIRenderer.cpp
        src/scene/GUI/GUIRenderer.h
        src/scene/GUI/GUISkinService.cpp
        src/scene/GUI/GUISkinService.h
        src/scene/renderer3d/ambientocclusion/AmbientOcclusionManager.cpp
        src/scene/renderer3d/ambientocclusion/AmbientOcclusionManager.h
        src/scene/renderer3d/antialiasing/AntiAliasingManager.cpp
        src/scene/renderer3d/antialiasing/AntiAliasingManager.h
        src/scene/renderer3d/camera/Camera.cpp
        src/scene/renderer3d/camera/Camera.h
        src/scene/renderer3d/camera/FpsCamera.cpp
        src/scene/renderer3d/camera/FpsCamera.h
        src/scene/renderer3d/camera/FreeCamera.cpp
        src/scene/renderer3d/camera/FreeCamera.h
        src/scene/renderer3d/light/omnidirectional/OmnidirectionalLight.cpp
        src/scene/renderer3d/light/omnidirectional/OmnidirectionalLight.h
        src/scene/renderer3d/light/sun/SunLight.cpp
        src/scene/renderer3d/light/sun/SunLight.h
        src/scene/renderer3d/light/Light.cpp
        src/scene/renderer3d/light/Light.h
        src/scene/renderer3d/light/LightManager.cpp
        src/scene/renderer3d/light/LightManager.h
        src/scene/renderer3d/model/displayer/CustomModelUniform.cpp
        src/scene/renderer3d/model/displayer/CustomModelUniform.h
        src/scene/renderer3d/model/displayer/CustomUniform.cpp
        src/scene/renderer3d/model/displayer/CustomUniform.h
        src/scene/renderer3d/model/displayer/MeshParameter.cpp
        src/scene/renderer3d/model/displayer/MeshParameter.h
        src/scene/renderer3d/model/displayer/ModelDisplayer.cpp
        src/scene/renderer3d/model/displayer/ModelDisplayer.h
        src/scene/renderer3d/model/Animation.cpp
        src/scene/renderer3d/model/Animation.h
        src/scene/renderer3d/model/Mesh.cpp
        src/scene/renderer3d/model/Mesh.h
        src/scene/renderer3d/model/Meshes.cpp
        src/scene/renderer3d/model/Meshes.h
        src/scene/renderer3d/model/Model.cpp
        src/scene/renderer3d/model/Model.h
        src/scene/renderer3d/octree/filter/AcceptAllFilter.cpp
        src/scene/renderer3d/octree/filter/AcceptAllFilter.h
        src/scene/renderer3d/octree/filter/OctreeableFilter.cpp
        src/scene/renderer3d/octree/filter/OctreeableFilter.h
        src/scene/renderer3d/octree/Octree.cpp
        src/scene/renderer3d/octree/Octree.h
        src/scene/renderer3d/octree/Octreeable.cpp
        src/scene/renderer3d/octree/Octreeable.h
        src/scene/renderer3d/octree/OctreeManager.cpp
        src/scene/renderer3d/octree/OctreeManager.h
        src/scene/renderer3d/shadow/data/FrustumShadowData.cpp
        src/scene/renderer3d/shadow/data/FrustumShadowData.h
        src/scene/renderer3d/shadow/data/ShadowData.cpp
        src/scene/renderer3d/shadow/data/ShadowData.h
        src/scene/renderer3d/shadow/display/ShadowModelUniform.cpp
        src/scene/renderer3d/shadow/display/ShadowModelUniform.h
        src/scene/renderer3d/shadow/display/ShadowUniform.cpp
        src/scene/renderer3d/shadow/display/ShadowUniform.h
        src/scene/renderer3d/shadow/filter/ModelProduceShadowFilter.cpp
        src/scene/renderer3d/shadow/filter/ModelProduceShadowFilter.h
        src/scene/renderer3d/shadow/ShadowManager.cpp
        src/scene/renderer3d/shadow/ShadowManager.h
        src/scene/renderer3d/skybox/Skybox.cpp
        src/scene/renderer3d/skybox/Skybox.h
        src/scene/renderer3d/Renderer3d.cpp
        src/scene/renderer3d/Renderer3d.h
        src/scene/InputDevice.h
        src/scene/Renderer.cpp
        src/scene/Renderer.h
        src/scene/SceneManager.cpp
        src/scene/SceneManager.h
        src/texture/TextureManager.cpp
        src/texture/TextureManager.h
        src/utils/display/geometry/aabbox/AABBoxModel.cpp
        src/utils/display/geometry/aabbox/AABBoxModel.h
        src/utils/display/geometry/capsule/CapsuleModel.cpp
        src/utils/display/geometry/capsule/CapsuleModel.h
        src/utils/display/geometry/cone/ConeModel.cpp
        src/utils/display/geometry/cone/ConeModel.h
        src/utils/display/geometry/convexhull/ConvexHullModel.cpp
        src/utils/display/geometry/convexhull/ConvexHullModel.h
        src/utils/display/geometry/cylinder/CylinderModel.cpp
        src/utils/display/geometry/cylinder/CylinderModel.h
        src/utils/display/geometry/frustum/FrustumModel.cpp
        src/utils/display/geometry/frustum/FrustumModel.h
        src/utils/display/geometry/lines/LinesModel.cpp
        src/utils/display/geometry/lines/LinesModel.h
        src/utils/display/geometry/obbox/OBBoxModel.cpp
        src/utils/display/geometry/obbox/OBBoxModel.h
        src/utils/display/geometry/points/PointsModel.cpp
        src/utils/display/geometry/points/PointsModel.h
        src/utils/display/geometry/sphere/SphereModel.cpp
        src/utils/display/geometry/sphere/SphereModel.h
        src/utils/display/geometry/triangles/TrianglesModel.cpp
        src/utils/display/geometry/triangles/TrianglesModel.h
        src/utils/display/geometry/GeometryDisplayer.cpp
        src/utils/display/geometry/GeometryDisplayer.h
        src/utils/display/geometry/GeometryModel.cpp
        src/utils/display/geometry/GeometryModel.h
        src/utils/display/quad/QuadDisplayer.cpp
        src/utils/display/quad/QuadDisplayer.h
        src/utils/display/quad/QuadDisplayerBuilder.cpp
        src/utils/display/quad/QuadDisplayerBuilder.h
        src/utils/display/texture/TextureDisplayer.cpp
        src/utils/display/texture/TextureDisplayer.h
        src/utils/filter/bilateralblur/BilateralBlurFilter.cpp
        src/utils/filter/bilateralblur/BilateralBlurFilter.h
        src/utils/filter/bilateralblur/BilateralBlurFilterBuilder.cpp
        src/utils/filter/bilateralblur/BilateralBlurFilterBuilder.h
        src/utils/filter/downsample/DownSampleFilter.cpp
        src/utils/filter/downsample/DownSampleFilter.h
        src/utils/filter/downsample/DownSampleFilterBuilder.cpp
        src/utils/filter/downsample/DownSampleFilterBuilder.h
        src/utils/filter/gaussianblur/GaussianBlurFilter.cpp
        src/utils/filter/gaussianblur/GaussianBlurFilter.h
        src/utils/filter/gaussianblur/GaussianBlurFilterBuilder.cpp
        src/utils/filter/gaussianblur/GaussianBlurFilterBuilder.h
        src/utils/filter/TextureFilter.cpp
        src/utils/filter/TextureFilter.h
        src/utils/filter/TextureFilterBuilder.cpp
        src/utils/filter/TextureFilterBuilder.h
        src/utils/shader/LoopUnrollerShader.cpp
        src/utils/shader/LoopUnrollerShader.h
        src/utils/shader/ShaderManager.cpp
        src/utils/shader/ShaderManager.h
        src/utils/shader/TokenReplacerShader.cpp
        src/utils/shader/TokenReplacerShader.h
        src/Urchin3dEngine.h
        src/scene/renderer3d/terrain/Terrain.cpp
        src/scene/renderer3d/terrain/Terrain.h
        src/scene/renderer3d/terrain/TerrainMaterial.cpp
        src/scene/renderer3d/terrain/TerrainMaterial.h
        src/scene/renderer3d/terrain/TerrainMesh.cpp
        src/scene/renderer3d/terrain/TerrainMesh.h
        src/scene/renderer3d/terrain/TerrainDisplayer.cpp
        src/scene/renderer3d/terrain/TerrainDisplayer.h
        src/loader/image/LoaderPNG.cpp
        src/loader/image/LoaderPNG.h)

include_directories(src ../common/src /usr/include/freetype2)

if (WIN32)
    SET(OPENGL_LIB glew32 opengl32)
else()
    SET(OPENGL_LIB GLEW)
endif()

add_library(urchin3dEngine SHARED ${SOURCE_FILES})
target_link_libraries(urchin3dEngine freetype ${OPENGL_LIB} urchinCommon -static-libstdc++)